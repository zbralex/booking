"use strict";(self.webpackChunkbooking=self.webpackChunkbooking||[]).push([[623],{623:function(t,e,o){o.r(e),o.d(e,{MapModule:function(){return A}});var i=o(6274),s=o(805),n=o(2741);const r=[{id:1,name:"\u041e\u0442\u0435\u043b\u044c \u0418\u0432\u0430\u043d\u043e\u0432",address:"\u043f\u043e\u0441\u0451\u043b\u043e\u043a \u041e\u043f\u044b\u0442\u043d\u043e\u0435 \u041f\u043e\u043b\u0435 \u0420\u0430\u043c\u0435\u043d\u0441\u043a\u0438\u0439 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043e\u043a\u0440\u0443\u0433, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.618425,long:38.013637,price:7600,images:[{id:1,url:"https://momblogsociety.com/wp-content/uploads/2019/03/hotels.jpg",description:""},{id:2,url:"https://s01.cdn-pegast.net/get/21/c4/84/3ca76a289bd030e80acadf9b0b622e3533b89d30c21c02aa5ae2a2b761/60f5be38aba45.jpg",description:""},{id:3,url:"https://storage.googleapis.com/static-content-hc/sites/default/files/cataloina_porto_doble_balcon2_2.jpg",description:""}]},{id:2,name:"\u041a\u0440\u0438\u0432\u0430\u044f \u0441\u043f\u0438\u043d\u043a\u0430",address:"\u041f\u0438\u043e\u043d\u0435\u0440\u0441\u043a\u0430\u044f \u0443\u043b\u0438\u0446\u0430, 17\u04101 \u041a\u0440\u0430\u0441\u043d\u043e\u0433\u043e\u0440\u0441\u043a, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.823205,long:37.332025,price:2200,images:[{id:1,url:"https://www.onetwotrip.com/ru/blog/wp-content/uploads/2017/11/unusual-hotels-1.jpg",description:""},{id:2,url:"https://holidex.ru/wp-content/uploads/nine-hours-1.jpg",description:""}]},{id:3,name:"\u0425\u043e\u0441\u0442\u0435\u043b \u0411\u0430\u0440\u0431\u043e\u0441",address:"\u041c\u0430\u043b\u0430\u0445\u043e\u0432\u0441\u043a\u0438\u0439 \u043f\u0430\u0440\u043a \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043e\u043a\u0440\u0443\u0433 \u041b\u044e\u0431\u0435\u0440\u0446\u044b, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.634252,long:38.01449,price:5320,images:[{id:1,url:"https://gge.ru/upload/iblock/e74/anons.jpg",description:""},{id:2,url:"https://uniquehomesandproperties.files.wordpress.com/2013/02/dog_bark_park_inn_hotel.jpg?w=640",description:""},{id:3,url:"https://business.time.com/wp-content/uploads/sites/2/2012/08/2100_biz_hotels_007_dogbarkparkinn_0731.jpg?w=600",description:""}]},{id:4,name:"\u0414\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440. \u0410 \u0447\u0442\u043e \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442?",address:"\u0441\u0435\u043b\u043e \u041c\u043e\u043b\u043e\u043a\u043e\u0432\u043e \u041b\u0435\u043d\u0438\u043d\u0441\u043a\u0438\u0439 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043e\u043a\u0440\u0443\u0433, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.562653,long:37.860878,price:1299,images:[{id:1,url:"https://holidex.ru/wp-content/uploads/nine-hours-1.jpg",description:""},{id:2,url:"https://lifeglobe.net/x/entry/2053/1.jpg",description:""},{id:3,url:"http://orel-retrotur.ru/wp-content/uploads/2015/02/1393068226_1.jpg",description:""}]},{id:5,name:"\u041c\u0438\u043b\u043e\u0441\u0442\u0438 \u043f\u0440\u043e\u0441\u0438\u043c",address:"\u0443\u043b\u0438\u0446\u0430 \u041f\u043b\u0435\u0449\u0435\u0435\u0432\u0430, \u0432\u043b6\u0410 \u041c\u043e\u0441\u043a\u0432\u0430, \u0420\u043e\u0441\u0441\u0438\u044f, 127560",lat:55.882046,long:37.610429,price:2100,images:[{id:2,url:"https://healthfittravel.com/wp-content/uploads/2019/10/68378442_970672196598918_5636099722126032896_n.jpg",description:""},{id:3,url:"https://www.prielbrusie-hotels.ru/media/hotel_photos/1437/x_1504797812-2270.jpg",description:""}]},{id:6,name:"\u0425\u043e\u0441\u0442\u0435\u043b \u041a\u0440\u043e\u0432\u0430\u0442\u043a\u0430",address:"\u0443\u043b\u0438\u0446\u0430 \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041d\u0435\u0434\u0435\u043b\u0438\u043d\u0430, 8 \u041e\u0434\u0438\u043d\u0446\u043e\u0432\u043e, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.679312,long:37.26716,price:3270,images:[{id:2,url:"https://media-cdn.tripadvisor.com/media/photo-s/10/93/fc/d5/the-stunning-747-200.jpg",description:""},{id:3,url:"https://i.pinimg.com/originals/5c/f0/c0/5cf0c0ad9290682c657d2c66f1d7eb2f.jpg",description:""}]}];var a=o(9618);let c=(()=>{class t{constructor(t){this.data=t}ngOnInit(){this.title=this.data.title}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(a.WI))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-room-detail"]],inputs:{id:"id"},decls:2,vars:1,template:function(t,e){1&t&&(n.TgZ(0,"p"),n._uU(1),n.qZA()),2&t&&(n.xp6(1),n.Oqu(e.title))},styles:[""]}),t})();var p=o(2850),l=o(1887);let d=(()=>{class t{constructor(t){this.http=t}getRooms(t){return(0,p.D)(t)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(l.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(){this.onClick=new n.vpe,this.passPreparedData=new n.vpe}setCoordinates(t){this.onClick.emit(t)}setPlacemarks(t){this.passPreparedData.emit(t),console.log(t,"ssa")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=o(8638),g=o(7617);function h(t,e){if(1&t&&n._UZ(0,"img",7),2&t){const t=n.oxw().$implicit;n.Q6J("src",t.url,n.LSH)("@slideAnimation","scale")}}function _(t,e){if(1&t&&(n.TgZ(0,"div",5),n.YNc(1,h,1,2,"img",6),n.qZA()),2&t){const t=e.index,o=n.oxw();n.xp6(1),n.Q6J("ngIf",t===o.currentSlide)}}const f=(0,u.oQ)([(0,u.oB)({opacity:0,transform:"scale(0.5)"}),(0,u.jt)("{{time}} cubic-bezier(0.785, 0.135, 0.15, 0.86)",(0,u.oB)({opacity:1,transform:"scale(1)"}))]),b=(0,u.oQ)([(0,u.jt)("{{time}} cubic-bezier(0.785, 0.135, 0.15, 0.86)",(0,u.oB)({opacity:0,transform:"scale(0.5)"}))]);let w=(()=>{class t{constructor(){this.currentSlide=0}ngOnInit(){this.preloadImages()}prev(t){const e=this.currentSlide-1;this.currentSlide=e<0?this.images.length-1:e}next(t){const e=this.currentSlide+1;this.currentSlide=e===this.images.length?0:e}preloadImages(){for(const t of this.images)(new Image).src=t.url}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-carousel"]],inputs:{images:"images"},decls:9,vars:1,consts:[[1,"carousel"],["class","carousel__img-wrap",4,"ngFor","ngForOf"],[1,"carousel__button-wrap"],["mat-icon-button","",1,"carousel__button",3,"click"],[1,"material-icons"],[1,"carousel__img-wrap"],["class","carousel__img",3,"src",4,"ngIf"],[1,"carousel__img",3,"src"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.YNc(1,_,2,1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"button",3),n.NdJ("click",function(t){return e.prev(t)}),n.TgZ(4,"span",4),n._uU(5,"arrow_back_ios_new"),n.qZA(),n.qZA(),n.TgZ(6,"button",3),n.NdJ("click",function(t){return e.next(t)}),n.TgZ(7,"span",4),n._uU(8,"arrow_forward_ios"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngForOf",e.images))},directives:[i.sg,g.lW,i.O5],styles:[".carousel[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;overflow:hidden}.carousel__button[_ngcontent-%COMP%]{background-color:#f5f5f5}.carousel__button-wrap[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:20px;transform:translate(-50%);width:60%;display:inline-flex;justify-content:space-between}.carousel__img-wrap[_ngcontent-%COMP%]{display:inline-flex;max-width:250px;overflow-x:scroll}.carousel__img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:transform .15s cubic-bezier(.25,.46,.45,.84)}"],data:{animation:[(0,u.X$)("slideAnimation",[(0,u.eR)("void => scale",[(0,u._7)(f,{params:{time:"500ms"}})]),(0,u.eR)("scale => void",[(0,u._7)(b,{params:{time:"500ms"}})])])]}}),t})();function Z(t,e){if(1&t){const t=n.EpF();n.ynx(0),n.TgZ(1,"li"),n.TgZ(2,"article",3),n.TgZ(3,"div",4),n._UZ(4,"app-carousel",5),n.qZA(),n.TgZ(5,"div",6),n.NdJ("click",function(){n.CHM(t);const o=e.$implicit;return n.oxw().setCoordinates(o.lat,o.long)}),n.TgZ(6,"h2"),n._uU(7),n.qZA(),n.TgZ(8,"p"),n.TgZ(9,"span",7),n._uU(10,"\u0410\u0434\u0440\u0435\u0441"),n.qZA(),n._uU(11),n.qZA(),n.TgZ(12,"p"),n.TgZ(13,"span",7),n._uU(14,"\u0426\u0435\u043d\u0430 \u0437\u0430 \u043d\u043e\u0447\u044c"),n.qZA(),n._uU(15),n.qZA(),n.TgZ(16,"button",8),n.NdJ("click",function(o){n.CHM(t);const i=e.$implicit;return n.oxw().openDetail(i.id),o.stopPropagation()}),n._uU(17,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&t){const t=e.$implicit;n.xp6(4),n.Q6J("images",t.images),n.xp6(3),n.Oqu(t.name),n.xp6(4),n.hij(" ",t.address," "),n.xp6(4),n.hij(" ",t.price," \u20bd ")}}let v=(()=>{class t{constructor(t,e,o){this.roomsService=t,this.matDialog=e,this.mapSetService=o,this.rooms=[],this.coords={},this.placemarks=[],this.mapSetService.onClick.subscribe(t=>this.coords=t)}ngOnInit(){this.getRooms()}getRooms(){this.roomsService.getRooms(r).subscribe(t=>{this.rooms.push(t)}),this.rooms.forEach(t=>{this.placemarks.push({geometry:[t.lat,t.long],properties:{balloonContentHeader:`<div style="max-width: 250px"><strong>${t.name}</strong><br><span>${t.address}</span></div>`,balloonContentBody:`<img src="${t.images[0].url}" width="250px"/>`},options:{preset:"islands#icon",iconColor:"#673ab7"}})}),this.mapSetService.setPlacemarks(this.placemarks)}openDetail(t){this.matDialog.open(c,{width:"330px",height:"400px",data:{title:"\u041e\u0442\u0435\u043b\u044c id: "+t}})}setCoordinates(t,e){this.mapSetService.setCoordinates([t,e])}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(d),n.Y36(a.uw),n.Y36(m))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-list-rooms"]],decls:3,vars:1,consts:[[1,"list-rooms"],[1,"list-rooms__wrap"],[4,"ngFor","ngForOf"],[1,"list-rooms__item"],[1,"list-rooms__carousel"],[3,"images"],[1,"list-rooms__info",3,"click"],[1,"list-rooms__item-title"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"section",0),n.TgZ(1,"ul",1),n.YNc(2,Z,18,4,"ng-container",2),n.qZA(),n.qZA()),2&t&&(n.xp6(2),n.Q6J("ngForOf",e.rooms))},directives:[i.sg,w,g.lW],styles:[".list-rooms__wrap[_ngcontent-%COMP%]{list-style:none;padding:15px}.list-rooms__item[_ngcontent-%COMP%]{border:1px solid #ccc;padding:1rem;border-radius:4px;min-height:100px;width:auto;margin:25px;box-sizing:border-box;display:flex;flex-flow:row nowrap;justify-content:space-between}.list-rooms__item-title[_ngcontent-%COMP%]{font-weight:bold}.list-rooms__info[_ngcontent-%COMP%]{flex-basis:65%;padding:25px;margin-left:15px;cursor:pointer}.list-rooms__info[_ngcontent-%COMP%]:hover{background-color:#fbf8ff}.list-rooms__carousel[_ngcontent-%COMP%]{flex-basis:35%}"]}),t})(),x=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-map-sidebar"]],decls:4,vars:0,consts:[[1,"map-sidebar__wrap"]],template:function(t,e){1&t&&(n.TgZ(0,"h1"),n._uU(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439"),n.qZA(),n.TgZ(2,"div",0),n._UZ(3,"app-list-rooms"),n.qZA())},directives:[v],styles:[".map-sidebar__wrap[_ngcontent-%COMP%]{background-color:#fff;height:85vh;max-height:1000px;overflow:scroll;max-width:800px}"]}),t})();var k=o(1545);function y(t,e){if(1&t&&n._UZ(0,"ya-placemark",3),2&t){const t=e.$implicit;n.Q6J("geometry",t.geometry)("properties",t.properties)("options",t.options)}}let C=(()=>{class t{constructor(t){this.mapSetService=t,this.center=[55.771209,37.568156],this.placemarks=[],this.zoom=10}ngOnInit(){this.mapSetService.onClick.subscribe(t=>{this.center=t,this.zoom=15}),this.mapSetService.passPreparedData.subscribe(t=>{this.placemarks=t})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(m))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-map"]],decls:5,vars:3,consts:[[1,"container"],[3,"center","zoom"],[3,"geometry","properties","options",4,"ngFor","ngForOf"],[3,"geometry","properties","options"]],template:function(t,e){1&t&&(n.TgZ(0,"h1"),n._uU(1,"\u043a\u0430\u0440\u0442\u0430"),n.qZA(),n.TgZ(2,"div",0),n.TgZ(3,"ya-map",1),n.YNc(4,y,1,3,"ya-placemark",2),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.Q6J("center",e.center)("zoom",e.zoom),n.xp6(1),n.Q6J("ngForOf",e.placemarks))},directives:[k.k0,i.sg,k.i],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})();const q=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main"]],decls:3,vars:0,consts:[[1,"main__wrap"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"app-map-sidebar"),n._UZ(2,"app-map"),n.qZA())},directives:[x,C],styles:[".main__wrap[_ngcontent-%COMP%]{display:grid;grid-template-columns:40% 60%}"]}),t})()}];let A=(()=>{class t{}return t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({factory:function(e){return new(e||t)},imports:[[i.ez,s.Bz.forChild(q)]]}),t})()}}]);