!function(){"use strict";function t(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(self.webpackChunkbooking=self.webpackChunkbooking||[]).push([[623],{623:function(e,i,r){r.r(i),r.d(i,{MapModule:function(){return C}});var a,s=r(6274),c=r(805),l=r(2741),p=[{id:1,name:"\u041e\u0442\u0435\u043b\u044c \u0418\u0432\u0430\u043d\u043e\u0432",address:"\u043f\u043e\u0441\u0451\u043b\u043e\u043a \u041e\u043f\u044b\u0442\u043d\u043e\u0435 \u041f\u043e\u043b\u0435 \u0420\u0430\u043c\u0435\u043d\u0441\u043a\u0438\u0439 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043e\u043a\u0440\u0443\u0433, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.618425,long:38.013637,price:7600,images:[{id:1,url:"https://momblogsociety.com/wp-content/uploads/2019/03/hotels.jpg",description:""},{id:2,url:"https://s01.cdn-pegast.net/get/21/c4/84/3ca76a289bd030e80acadf9b0b622e3533b89d30c21c02aa5ae2a2b761/60f5be38aba45.jpg",description:""},{id:3,url:"https://storage.googleapis.com/static-content-hc/sites/default/files/cataloina_porto_doble_balcon2_2.jpg",description:""}]},{id:2,name:"\u041a\u0440\u0438\u0432\u0430\u044f \u0441\u043f\u0438\u043d\u043a\u0430",address:"\u041f\u0438\u043e\u043d\u0435\u0440\u0441\u043a\u0430\u044f \u0443\u043b\u0438\u0446\u0430, 17\u04101 \u041a\u0440\u0430\u0441\u043d\u043e\u0433\u043e\u0440\u0441\u043a, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.823205,long:37.332025,price:2200,images:[{id:1,url:"https://www.onetwotrip.com/ru/blog/wp-content/uploads/2017/11/unusual-hotels-1.jpg",description:""},{id:2,url:"https://holidex.ru/wp-content/uploads/nine-hours-1.jpg",description:""}]},{id:3,name:"\u0425\u043e\u0441\u0442\u0435\u043b \u0411\u0430\u0440\u0431\u043e\u0441",address:"\u041c\u0430\u043b\u0430\u0445\u043e\u0432\u0441\u043a\u0438\u0439 \u043f\u0430\u0440\u043a \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043e\u043a\u0440\u0443\u0433 \u041b\u044e\u0431\u0435\u0440\u0446\u044b, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.634252,long:38.01449,price:5320,images:[{id:1,url:"https://gge.ru/upload/iblock/e74/anons.jpg",description:""},{id:2,url:"https://uniquehomesandproperties.files.wordpress.com/2013/02/dog_bark_park_inn_hotel.jpg?w=640",description:""},{id:3,url:"https://business.time.com/wp-content/uploads/sites/2/2012/08/2100_biz_hotels_007_dogbarkparkinn_0731.jpg?w=600",description:""}]},{id:4,name:"\u0414\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440. \u0410 \u0447\u0442\u043e \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442?",address:"\u0441\u0435\u043b\u043e \u041c\u043e\u043b\u043e\u043a\u043e\u0432\u043e \u041b\u0435\u043d\u0438\u043d\u0441\u043a\u0438\u0439 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043e\u043a\u0440\u0443\u0433, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.562653,long:37.860878,price:1299,images:[{id:1,url:"https://holidex.ru/wp-content/uploads/nine-hours-1.jpg",description:""},{id:2,url:"https://lifeglobe.net/x/entry/2053/1.jpg",description:""},{id:3,url:"http://orel-retrotur.ru/wp-content/uploads/2015/02/1393068226_1.jpg",description:""}]},{id:5,name:"\u041c\u0438\u043b\u043e\u0441\u0442\u0438 \u043f\u0440\u043e\u0441\u0438\u043c",address:"\u0443\u043b\u0438\u0446\u0430 \u041f\u043b\u0435\u0449\u0435\u0435\u0432\u0430, \u0432\u043b6\u0410 \u041c\u043e\u0441\u043a\u0432\u0430, \u0420\u043e\u0441\u0441\u0438\u044f, 127560",lat:55.882046,long:37.610429,price:2100,images:[{id:2,url:"https://healthfittravel.com/wp-content/uploads/2019/10/68378442_970672196598918_5636099722126032896_n.jpg",description:""},{id:3,url:"https://www.prielbrusie-hotels.ru/media/hotel_photos/1437/x_1504797812-2270.jpg",description:""}]},{id:6,name:"\u0425\u043e\u0441\u0442\u0435\u043b \u041a\u0440\u043e\u0432\u0430\u0442\u043a\u0430",address:"\u0443\u043b\u0438\u0446\u0430 \u041c\u0430\u0440\u0448\u0430\u043b\u0430 \u041d\u0435\u0434\u0435\u043b\u0438\u043d\u0430, 8 \u041e\u0434\u0438\u043d\u0446\u043e\u0432\u043e, \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c, \u0420\u043e\u0441\u0441\u0438\u044f",lat:55.679312,long:37.26716,price:3270,images:[{id:2,url:"https://media-cdn.tripadvisor.com/media/photo-s/10/93/fc/d5/the-stunning-747-200.jpg",description:""},{id:3,url:"https://i.pinimg.com/originals/5c/f0/c0/5cf0c0ad9290682c657d2c66f1d7eb2f.jpg",description:""}]}],u=r(9618),d=((a=function(){function t(e){n(this,t),this.data=e}return o(t,[{key:"ngOnInit",value:function(){this.title=this.data.title}}]),t}()).\u0275fac=function(t){return new(t||a)(l.Y36(u.WI))},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-room-detail"]],inputs:{id:"id"},decls:2,vars:1,template:function(t,e){1&t&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&t&&(l.xp6(1),l.Oqu(e.title))},styles:[""]}),a),m=r(2850),f=r(1887),g=function(){var t=function(){function t(e){n(this,t),this.http=e}return o(t,[{key:"getRooms",value:function(t){return(0,m.D)(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.LFG(f.eN))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),h=function(){var t=function(){function t(){n(this,t),this.passPreparedData=new l.vpe,this.eventAndIndex=new l.vpe}return o(t,[{key:"setPlacemarks",value:function(t){this.passPreparedData.emit(t)}},{key:"setActiveBalloon",value:function(t,e){this.eventAndIndex.emit({e:t,index:e})}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),v=r(8638),_=r(7617);function b(t,e){if(1&t&&l._UZ(0,"img",7),2&t){var n=l.oxw().$implicit;l.Q6J("src",n.url,l.LSH)("@slideAnimation","scale")}}function w(t,e){if(1&t&&(l.TgZ(0,"div",5),l.YNc(1,b,1,2,"img",6),l.qZA()),2&t){var n=e.index,i=l.oxw();l.xp6(1),l.Q6J("ngIf",n===i.currentSlide)}}var y=(0,v.oQ)([(0,v.oB)({opacity:0,transform:"scale(0.5)"}),(0,v.jt)("{{time}} cubic-bezier(0.785, 0.135, 0.15, 0.86)",(0,v.oB)({opacity:1,transform:"scale(1)"}))]),x=(0,v.oQ)([(0,v.jt)("{{time}} cubic-bezier(0.785, 0.135, 0.15, 0.86)",(0,v.oB)({opacity:0,transform:"scale(0.5)"}))]),Z=function(){var e=function(){function e(){n(this,e),this.currentSlide=0}return o(e,[{key:"ngOnInit",value:function(){this.preloadImages()}},{key:"prev",value:function(t){var e=this.currentSlide-1;this.currentSlide=e<0?this.images.length-1:e}},{key:"next",value:function(t){var e=this.currentSlide+1;this.currentSlide=e===this.images.length?0:e}},{key:"preloadImages",value:function(){var e,n=t(this.images);try{for(n.s();!(e=n.n()).done;){var i=e.value;(new Image).src=i.url}}catch(o){n.e(o)}finally{n.f()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-carousel"]],inputs:{images:"images"},decls:9,vars:1,consts:[[1,"carousel"],["class","carousel__img-wrap",4,"ngFor","ngForOf"],[1,"carousel__button-wrap"],["mat-icon-button","",1,"carousel__button",3,"click"],[1,"material-icons"],[1,"carousel__img-wrap"],["class","carousel__img",3,"src",4,"ngIf"],[1,"carousel__img",3,"src"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.YNc(1,w,2,1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"button",3),l.NdJ("click",function(t){return e.prev(t)}),l.TgZ(4,"span",4),l._uU(5,"arrow_back_ios_new"),l.qZA(),l.qZA(),l.TgZ(6,"button",3),l.NdJ("click",function(t){return e.next(t)}),l.TgZ(7,"span",4),l._uU(8,"arrow_forward_ios"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngForOf",e.images))},directives:[s.sg,_.lW,s.O5],styles:[".carousel[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;overflow:hidden}.carousel__button[_ngcontent-%COMP%]{background-color:#f5f5f5}.carousel__button-wrap[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:20px;transform:translate(-50%);width:60%;display:inline-flex;justify-content:space-between}.carousel__img-wrap[_ngcontent-%COMP%]{display:inline-flex;max-width:250px;overflow-x:scroll}.carousel__img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;transition:transform .15s cubic-bezier(.25,.46,.45,.84)}"],data:{animation:[(0,v.X$)("slideAnimation",[(0,v.eR)("void => scale",[(0,v._7)(y,{params:{time:"500ms"}})]),(0,v.eR)("scale => void",[(0,v._7)(x,{params:{time:"500ms"}})])])]}}),e}();function k(t,e){if(1&t){var n=l.EpF();l.ynx(0),l.TgZ(1,"li"),l.TgZ(2,"article",3),l.TgZ(3,"div",4),l._UZ(4,"app-carousel",5),l.qZA(),l.TgZ(5,"div",6),l.NdJ("mouseenter",function(t){l.CHM(n);var i=e.index;return l.oxw().setActiveBalloon(t,i)})("mouseleave",function(t){l.CHM(n);var i=e.index;return l.oxw().setActiveBalloon(t,i)}),l.TgZ(6,"h2"),l._uU(7),l.qZA(),l.TgZ(8,"p"),l.TgZ(9,"span",7),l._uU(10,"\u0410\u0434\u0440\u0435\u0441"),l.qZA(),l._uU(11),l.qZA(),l.TgZ(12,"p"),l.TgZ(13,"span",7),l._uU(14,"\u0426\u0435\u043d\u0430 \u0437\u0430 \u043d\u043e\u0447\u044c"),l.qZA(),l._uU(15),l.qZA(),l.TgZ(16,"button",8),l.NdJ("click",function(t){l.CHM(n);var i=e.$implicit;return l.oxw().openDetail(i.id),t.stopPropagation()}),l._uU(17,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.BQk()}if(2&t){var i=e.$implicit;l.xp6(4),l.Q6J("images",i.images),l.xp6(3),l.Oqu(i.name),l.xp6(4),l.hij(" ",i.address," "),l.xp6(4),l.hij(" ",i.price," \u20bd ")}}var A=function(){var t=function(){function t(e,i,o){n(this,t),this.roomsService=e,this.matDialog=i,this.mapSetService=o,this.rooms=[],this.coords={},this.placemarks=[]}return o(t,[{key:"ngOnInit",value:function(){this.getRooms()}},{key:"getRooms",value:function(){var t=this;this.roomsService.getRooms(p).subscribe(function(e){t.rooms.push(e)}),this.rooms.forEach(function(e){t.placemarks.push({geometry:[e.lat,e.long],properties:{balloonContentHeader:'<div style="max-width: 250px"><strong>'.concat(e.name,"</strong><br><span>").concat(e.address,"</span></div>"),balloonContentBody:'<img src="'.concat(e.images[0].url,'" width="250px" alt="').concat(e.name,'"/>'),iconContent:e.price+"\u20bd"},options:{preset:"islands#darkBlueStretchyIcon"}})}),this.mapSetService.setPlacemarks(this.placemarks)}},{key:"openDetail",value:function(t){this.matDialog.open(d,{width:"330px",height:"400px",data:{title:"\u041e\u0442\u0435\u043b\u044c id: "+t}})}},{key:"setActiveBalloon",value:function(t,e){this.mapSetService.setActiveBalloon(t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(g),l.Y36(u.uw),l.Y36(h))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-list-rooms"]],decls:3,vars:1,consts:[[1,"list-rooms"],[1,"list-rooms__wrap"],[4,"ngFor","ngForOf"],[1,"list-rooms__item"],[1,"list-rooms__carousel"],[3,"images"],[1,"list-rooms__info",3,"mouseenter","mouseleave"],[1,"list-rooms__item-title"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(l.TgZ(0,"section",0),l.TgZ(1,"ul",1),l.YNc(2,k,18,4,"ng-container",2),l.qZA(),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngForOf",e.rooms))},directives:[s.sg,Z,_.lW],styles:[".list-rooms__wrap[_ngcontent-%COMP%]{list-style:none;padding:15px}.list-rooms__item[_ngcontent-%COMP%]{border:1px solid #ccc;padding:1rem;border-radius:4px;min-height:100px;width:auto;margin:25px;box-sizing:border-box;display:flex;flex-flow:row nowrap;justify-content:space-between}.list-rooms__item-title[_ngcontent-%COMP%]{font-weight:bold}.list-rooms__info[_ngcontent-%COMP%]{flex-basis:65%;padding:25px;margin-left:15px;cursor:pointer}.list-rooms__info[_ngcontent-%COMP%]:hover{background-color:#fbf8ff}.list-rooms__carousel[_ngcontent-%COMP%]{flex-basis:35%}"]}),t}(),O=function(){var t=function(){function t(){n(this,t)}return o(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-map-sidebar"]],decls:4,vars:0,consts:[[1,"map-sidebar__wrap"]],template:function(t,e){1&t&&(l.TgZ(0,"h1"),l._uU(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439"),l.qZA(),l.TgZ(2,"div",0),l._UZ(3,"app-list-rooms"),l.qZA())},directives:[A],styles:[".map-sidebar__wrap[_ngcontent-%COMP%]{background-color:#fff;height:85vh;max-height:1000px;overflow:scroll;max-width:800px}"]}),t}(),q=r(1545);function S(t,e){if(1&t&&l._UZ(0,"ya-placemark",3),2&t){var n=e.$implicit;l.Q6J("geometry",n.geometry)("properties",n.properties)("options",n.options)}}var j=function(){var t=function(){function t(e){n(this,t),this.mapSetService=e,this.center=[55.771209,37.568156],this.placemarks=[],this.zoom=10}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.mapSetService.passPreparedData.subscribe(function(e){t.placemarks=e}),this.mapSetService.eventAndIndex.subscribe(function(e){var n=e.index;"mouseenter"===e.e.type?(t.placemarks[n].options.preset="islands#redStretchyIcon",t.placemarks.push(t.placemarks[n])):t.placemarks.pop()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Y36(h))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-map"]],decls:5,vars:3,consts:[[1,"container"],[3,"center","zoom"],[3,"geometry","properties","options",4,"ngFor","ngForOf"],[3,"geometry","properties","options"]],template:function(t,e){1&t&&(l.TgZ(0,"h1"),l._uU(1,"\u043a\u0430\u0440\u0442\u0430"),l.qZA(),l.TgZ(2,"div",0),l.TgZ(3,"ya-map",1),l.YNc(4,S,1,3,"ya-placemark",2),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Q6J("center",e.center)("zoom",e.zoom),l.xp6(1),l.Q6J("ngForOf",e.placemarks))},directives:[q.k0,s.sg,q.i],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t}(),T=[{path:"",component:function(){var t=function(){function t(){n(this,t)}return o(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-main"]],decls:3,vars:0,consts:[[1,"main__wrap"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"app-map-sidebar"),l._UZ(2,"app-map"),l.qZA())},directives:[O,j],styles:[".main__wrap[_ngcontent-%COMP%]{display:grid;grid-template-columns:40% 60%}"]}),t}()}],C=function(){var t=function t(){n(this,t)};return t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({factory:function(e){return new(e||t)},imports:[[s.ez,c.Bz.forChild(T)]]}),t}()}}])}();